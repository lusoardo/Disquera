<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discos - Discogs</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<header class="header">
    <!-- Fila superior con navegaciÃ³n -->
    <div class="header-top">
        <a href="/" class="back">â¬… Volver</a>
        
        <div class="logo">DISCOGS</div>
        
        <a href="/carrito" class="cart-icon">
            ðŸ›’ <span id="cart-count">{{ cart_count }}</span>
        </a>
    </div>
    
    <!-- Barra de bÃºsqueda centrada abajo -->
    <input id="search" type="text" placeholder="Buscar Ã¡lbum..." class="search-bar">
</header>

<div class="gallery">
    {% for album in albums %}
    <div class="card" data-title="{{ album.title | lower }}">
        <img src="/static/{{ album.img }}" alt="{{ album.title }}">
        <p class="title">{{ album.title }}</p>

        <!-- BotÃ³n agregar mejorado -->
        <form action="/agregar" method="POST">
            <input type="hidden" name="album_id" value="{{ album.id }}">
            <button class="add-btn" type="submit">Agregar al Carrito</button>
        </form>
    </div>
    {% endfor %}
</div>

<script>
    const searchInput = document.getElementById("search");
    const cards = document.querySelectorAll(".card");

    searchInput.addEventListener("input", function() {
        const query = this.value.toLowerCase();

        cards.forEach(card => {
            const title = card.getAttribute("data-title");
            card.style.display = title.includes(query) ? "block" : "none";
        });
    });
</script>

</body>
</html>